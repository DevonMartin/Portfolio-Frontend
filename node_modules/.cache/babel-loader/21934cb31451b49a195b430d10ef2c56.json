{"ast":null,"code":"// https://github.com/sindresorhus/delay/tree/ab98ae8dfcb38e1593286c94d934e70d14a4e111\nimport { composeAbortError } from '../errors/DOMException.js';\nexport default async function delay(ms, _ref) {\n  let {\n    signal\n  } = _ref;\n  return new Promise((resolve, reject) => {\n    if (signal) {\n      if (signal.aborted) {\n        reject(composeAbortError(signal));\n        return;\n      }\n      signal.addEventListener('abort', handleAbort, {\n        once: true\n      });\n    }\n    function handleAbort() {\n      reject(composeAbortError(signal));\n      clearTimeout(timeoutId);\n    }\n    const timeoutId = setTimeout(() => {\n      signal?.removeEventListener('abort', handleAbort);\n      resolve();\n    }, ms);\n  });\n}","map":{"version":3,"mappings":"AAAA;AAEA,SAAQA,iBAAiB,QAAO,2BAA2B;AAO3D,eAAe,eAAeC,KAAK,CAClCC,EAAU,QACY;EAAA,IAAtB;IAACC;EAAM,CAAe;EAEtB,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;IACtC,IAAIH,MAAM,EAAE;MACX,IAAIA,MAAM,CAACI,OAAO,EAAE;QACnBD,MAAM,CAACN,iBAAiB,CAACG,MAAM,CAAC,CAAC;QACjC;;MAGDA,MAAM,CAACK,gBAAgB,CAAC,OAAO,EAAEC,WAAW,EAAE;QAACC,IAAI,EAAE;MAAI,CAAC,CAAC;;IAG5D,SAASD,WAAW;MACnBH,MAAM,CAACN,iBAAiB,CAACG,MAAO,CAAC,CAAC;MAClCQ,YAAY,CAACC,SAAS,CAAC;IACxB;IAEA,MAAMA,SAAS,GAAGC,UAAU,CAAC,MAAK;MACjCV,MAAM,EAAEW,mBAAmB,CAAC,OAAO,EAAEL,WAAW,CAAC;MACjDJ,OAAO,EAAE;IACV,CAAC,EAAEH,EAAE,CAAC;EACP,CAAC,CAAC;AACH","names":["composeAbortError","delay","ms","signal","Promise","resolve","reject","aborted","addEventListener","handleAbort","once","clearTimeout","timeoutId","setTimeout","removeEventListener"],"sources":["/Users/devonmartin/Hacker Shit/VSCode Projects/Personal Projects/Portfolio Remade/client/node_modules/ky/source/utils/delay.ts"],"sourcesContent":["// https://github.com/sindresorhus/delay/tree/ab98ae8dfcb38e1593286c94d934e70d14a4e111\n\nimport {composeAbortError} from '../errors/DOMException.js';\nimport {InternalOptions} from '../types/options.js';\n\nexport interface DelayOptions {\n\tsignal?: InternalOptions['signal'];\n}\n\nexport default async function delay(\n\tms: number,\n\t{signal}: DelayOptions,\n): Promise<void> {\n\treturn new Promise((resolve, reject) => {\n\t\tif (signal) {\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(composeAbortError(signal));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsignal.addEventListener('abort', handleAbort, {once: true});\n\t\t}\n\n\t\tfunction handleAbort() {\n\t\t\treject(composeAbortError(signal!));\n\t\t\tclearTimeout(timeoutId);\n\t\t}\n\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\tsignal?.removeEventListener('abort', handleAbort);\n\t\t\tresolve();\n\t\t}, ms);\n\t});\n}\n"]},"metadata":{},"sourceType":"module"}